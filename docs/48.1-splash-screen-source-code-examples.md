# Splash Screen Source Code Examples

## Overview

This document contains all source code examples referenced in the Splash Screen Research & Implementation Plan. These examples demonstrate the technical implementation patterns, CSS architecture, and React component structure used in the **Master Chess Training** splash screen system.

## Table of Contents

1. [React Component Examples](#react-component-examples)
2. [Hook Implementation Examples](#hook-implementation-examples)
3. [CSS Architecture Examples](#css-architecture-examples)
4. [Animation Examples](#animation-examples)
5. [TypeScript Integration Examples](#typescript-integration-examples)
6. [State Management Examples](#state-management-examples)
7. [Modal System Examples](#modal-system-examples)
8. [Action System Examples](#action-system-examples)

## React Component Examples

### Single Responsibility Principle (SRP) Architecture

#### Component Layer - Presentation Only

```typescript
// src/pages/splash/MinimalSplashPage.tsx
// RESPONSIBILITY: Pure presentation component
// - Renders JSX structure only
// - Uses CSS classes from splash.css
// - No business logic, no state, no side effects
// - No inline styles (except dynamic width values)
// - Import React only, no other dependencies

export const MinimalSplashPage: React.FC = () => {
  return (
    <div className="splash-container splash-fade-in">
      {/* Pure JSX structure with semantic CSS classes */}
    </div>
  );
};
```

#### Integration Layer - Context Bridging

```typescript
// src/components/MinimalSplashPageWrapper.tsx
// RESPONSIBILITY: Context integration only
// - Connects usePageInstructions hook
// - Connects usePageActions hook
// - Bridges component with app navigation system
// - NO business logic, delegates to hooks

export const MinimalSplashPageWrapper: React.FC = () => {
  usePageInstructions(/* instructions */);
  usePageActions(useMinimalSplashActions());
  return <MinimalSplashPage />;
};
```

## Hook Implementation Examples

### Hook Layer - Business Logic & State

```typescript
// src/hooks/useMinimalSplashActions.ts
// RESPONSIBILITY: State management and business logic
// - Animation state (animationKey)
// - Action callbacks (restartAnimation, toggleFullscreen)
// - Cross-navigation logic (goToAnimated, goToProgress)
// - Audio integration (playMove)
// - NO JSX, NO presentation concerns

export function useMinimalSplashActions() {
  const [animationKey, setAnimationKey] = useState(0);
  const { playMove } = useChessAudio();
  // ... business logic only
  return {
    /* action functions */
  };
}
```

### Animation Control System

```typescript
// Animation Key Pattern
const [animationKey, setAnimationKey] = useState(0);

const restartAnimation = useCallback(() => {
  setAnimationKey((prev) => prev + 1); // Increment forces component re-mount
  playMove(false); // Audio feedback
}, [playMove]);

// Usage in component
<div key={animationKey} className="splash-fade-in">
  {/* Content re-mounts with fresh animations */}
</div>;
```

### Cross-Page Navigation Implementation

```typescript
// Each splash hook imports central navigation actions
import { useSplashActions } from "./useSplashActions";

export function useMinimalSplashActions() {
  const { goToAnimated, goToProgress, goToBranded } = useSplashActions();

  return {
    // Page-specific actions
    testMinimalLoad,
    restartAnimation,
    toggleFullscreen,
    // Cross-navigation (excludes current page)
    goToAnimated,
    goToProgress,
    goToBranded,
  };
}
```

## CSS Architecture Examples

### Base Layout Classes

```css
/* ARCHITECTURE PRINCIPLES DOCUMENTED IN splash.css:
   - Single CSS file for all splash screens during R&D phase
   - Full-screen splash layouts (no centered boxes/modals)
   - Semantic class naming following BEM-like patterns  
   - Theme integration via CSS custom properties
   - Mobile-first responsive design */
```

### Class Organization Structure

```css
/* Base Layout Classes */
.splash-container        /* Full viewport takeover */
.splash-brand-section    /* Main content area */
.splash-progress-section /* Progress area */

/* Typography Hierarchy */
.splash-title           /* 60px → 40px → 32px responsive */
.splash-subtitle        /* 20px → 18px → 16px responsive */

/* Page-Specific Modifiers */
.splash-animated        /* Animated page background */
.splash-progress        /* Progress page styling */
.splash-branded         /* Branded page luxury styling */

/* Component Variations */
.splash-luxury-title    /* Gold gradient text */
.splash-thick           /* 6px progress bars */
.splash-multi-progress  /* Multiple progress bars */
```

### Core CSS Classes Implementation

```css
/* Base Layout */
.splash-container      /* Full-screen container with flexbox centering */
/* Full-screen container with flexbox centering */
.splash-content        /* Content wrapper with relative positioning */
.splash-test-border    /* Development styling with theme-aware borders */

/* Typography Hierarchy */
.splash-title          /* 60px bold headlines with theme colors */
.splash-subtitle       /* 20px medium weight subtitles */
.splash-description    /* 14px muted descriptive text */

/* Animation System */
.splash-fade-in        /* Smooth entrance animation (0.6s) */
.splash-pulse          /* Breathing effect for progress indicators */

/* Progress Indicators */
.splash-progress-bar   /* Base progress container (2px height) */
.splash-progress-fill; /* Animated progress fill with smooth transitions */
```

### Container System

```css
/* Full-screen container with proper centering */
.splash-container {
  min-height: 100vh; /* Always full viewport height */
  display: flex; /* Flexbox for perfect centering */
  align-items: center; /* Vertical centering */
  justify-content: center; /* Horizontal centering */
  position: relative; /* For overlay elements */
  overflow: hidden; /* Prevent scrollbars */
}

.splash-content {
  text-align: center; /* Center text content */
  position: relative; /* For z-index layering */
  z-index: 2; /* Above background effects */
}
```

### Context-Aware CSS Variants

```css
/* Fits within app layout - no overflow */
.splash-container.splash-in-app {
  width: 100%;
  min-height: calc(100vh - 8rem);
  padding: 1.5rem;
}

/* True full-screen takeover for modals */
.splash-container.splash-modal {
  width: 100vw;
  min-height: 100vh;
  position: fixed;
  top: 0;
  left: 0;
  padding: 2rem;
}
```

### Theme Integration

```css
/* Uses CSS custom properties for theme compatibility */
background: var(--background); /* Adaptive background */
color: var(--foreground); /* Text with proper contrast */
border: 1px solid var(--accent); /* Theme accent colors */
```

## Animation Examples

### CSS Animation Classes

```css
/* Entrance animation - 0.6s smooth fade with subtle scale */
@keyframes splash-fade-in {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
.splash-fade-in {
  animation: splash-fade-in 0.6s ease-out forwards;
}

/* Progress indicator breathing effect */
@keyframes splash-pulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.6;
  }
}
.splash-pulse {
  animation: splash-pulse 2s ease-in-out infinite;
}
```

### React Spring Integration (Ready for Implementation)

```typescript
// Entrance animation (ready for implementation)
const entranceSpring = useSpring({
  from: { opacity: 0, transform: "scale(0.95)" },
  to: { opacity: 1, transform: "scale(1)" },
  config: { tension: 280, friction: 60 },
});

// Progress animation (ready for implementation)
const progressSpring = useSpring({
  width: `${progress}%`,
  config: { tension: 300, friction: 30 },
});
```

## TypeScript Integration Examples

### Type Layer - Data Structure

```typescript
// src/stores/appStore.ts (splash modal state)
// RESPONSIBILITY: Data structure definitions
// - State shape: splashModalOpen, splashModalPage
// - Action signatures: openSplashModal, closeSplashModal
// - Type definitions for splash page identifiers
// - NO UI concerns, pure data layer
```

### Service Layer - External Integration

```typescript
// src/services/audioService.ts
// RESPONSIBILITY: Audio system integration
// - Sound effect management
// - Audio context handling
// - NO splash-specific logic, reusable across app
```

## State Management Examples

### App Store Integration

```typescript
// New splash modal state in app store
splashModalOpen: boolean
splashModalPage: string | null

// Modal actions
openSplashModal: (page: string) => void
closeSplashModal: () => void

// Updated toggle function
const toggleFullscreen = useCallback(() => {
  openSplashModal('minimalsplash')
  playMove(false)
}, [openSplashModal, playMove])
```

### State Management Integration

```typescript
// App store additions
interface AppState {
  splashModalOpen: boolean
  splashModalPage: string | null  // 'minimalsplash' | 'animatedsplash' | etc.
}

// Actions for modal control
openSplashModal: (page: string) => void
closeSplashModal: () => void
```

### State Management Flow

```typescript
// 1. User clicks action sheet item (e.g., "→ Animated")
// 2. ActionSheetContainer calls mapped function from hook
// 3. Hook calls `useSplashActions().goToAnimated()`
// 4. `useSplashActions` calls `setCurrentChildPage('animatedsplash')`
// 5. SplashPage component re-renders with AnimatedSplashPageWrapper
// 6. Navigation completes instantly with audio feedback
```

## Modal System Examples

### SplashModal Component Features

```tsx
// Modal overlay with maximum z-index for app-wide coverage
<div className="fixed inset-0 z-[9999] flex items-center justify-center">
  {/* Backdrop with blur and click-to-close */}
  <div
    className="absolute inset-0 bg-black/80 backdrop-blur-sm"
    onClick={closeSplashModal}
  />

  {/* Modal content with close button */}
  <div className="relative w-full h-full max-w-none">
    <button className="absolute top-6 right-6 z-10" onClick={closeSplashModal}>
      <X className="w-6 h-6" />
    </button>
    <SplashComponent />
  </div>
</div>
```

## Action System Examples

### Action Sheet Integration

```typescript
// ActionSheetContainer.tsx mapping
const actionMap: Record<string, Record<string, Fn>> = {
  minimalsplash: {
    "test-minimal-load": minimalSplashActions.testMinimalLoad,
    "restart-animation": minimalSplashActions.restartAnimation,
    "toggle-fullscreen": minimalSplashActions.toggleFullscreen,
    "go-to-animated": minimalSplashActions.goToAnimated,
    "go-to-progress": minimalSplashActions.goToProgress,
    "go-to-branded": minimalSplashActions.goToBranded,
  },
  // ... repeated for all 4 splash pages
};
```

### Complete Action Mappings

```typescript
minimalsplash: {
  'restart-animation': minimalSplashActions.restartAnimation,
  'toggle-fullscreen': minimalSplashActions.toggleFullscreen,
  'go-to-animated': minimalSplashActions.goToAnimated,
  // ... all other actions
}
```

## Responsive Design Examples

### Typography Hierarchy with Responsive Scaling

```css
/* Desktop: 60px title, 20px subtitle, 14px description */
.splash-title {
  font-size: 3.75rem;
  font-weight: 700;
}
.splash-subtitle {
  font-size: 1.25rem;
  font-weight: 400;
}
.splash-description {
  font-size: 0.875rem;
  opacity: 0.8;
}

/* Tablet: 40px title, 18px subtitle */
@media (max-width: 768px) {
  .splash-title {
    font-size: 2.5rem;
  }
  .splash-subtitle {
    font-size: 1.125rem;
  }
}

/* Mobile: 32px title, 16px subtitle */
@media (max-width: 480px) {
  .splash-title {
    font-size: 2rem;
  }
  .splash-subtitle {
    font-size: 1rem;
  }
}
```

## Development Workflow Examples

### React Spring Setup

```bash
npm install @react-spring/web
```

### Animation Key Usage

```tsx
// Each splash hook exports `animationKey` for component remounting - use this for restart functionality:
<div key={animationKey} className="splash-fade-in">
```

### CSS Custom Properties Available

```css
/* Available theme variables */
var(--accent) /* Theme accent color */
var(--foreground) /* Text colors */
var(--muted-foreground) /* Secondary text */
var(--background) /* Background colors */
```

### Context Switching Examples

```typescript
// Same component, different contexts
<MinimalSplashPage />              // In app tabs (variant="in-app")
<MinimalSplashPage variant="modal" /> // In fullscreen modal
```

## File Structure Examples

```
src/pages/splash/
├── MinimalSplashPage.tsx          ✅ Minimal professional design
├── AnimatedSplashPage.tsx         ✅ Progressive piece assembly
├── LoadingProgressPage.tsx        ✅ Engine loading dashboard
└── BrandedSplashPage.tsx          ✅ Chess academy branding

src/components/
├── MinimalSplashPageWrapper.tsx   ✅ Context integration
├── AnimatedSplashPageWrapper.tsx  ✅ Context integration
├── LoadingProgressPageWrapper.tsx ✅ Context integration
└── BrandedSplashPageWrapper.tsx   ✅ Context integration

src/hooks/
├── useSplashActions.ts            ✅ Main navigation logic
├── useMinimalSplashActions.ts     ✅ Minimal page actions
├── useAnimatedSplashActions.ts    ✅ Animation page actions
├── useLoadingProgressActions.ts   ✅ Progress page actions
└── useBrandedSplashActions.ts     ✅ Branded page actions
```

## Import Strategy Examples

### CSS Import Strategy

```typescript
// Location: src/main.tsx
import './styles/splash.css'

// Why not index.css: JavaScript imports ensure proper load order after theme variables are defined
// Benefits: HMR (Hot Module Replacement) works properly, reliable loading sequence
```

### Import Strategy Location

```typescript
// src/main.tsx - import './styles/splash.css'
// Why not index.css: JavaScript imports ensure proper load order after theme variables are defined
// Benefits: HMR (Hot Module Replacement) works properly, reliable loading sequence
```

This document serves as the complete technical reference for all source code patterns and examples used in the splash screen implementation system.